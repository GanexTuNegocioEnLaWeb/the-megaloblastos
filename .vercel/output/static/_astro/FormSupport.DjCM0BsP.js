import{v as x,a as p,w as h}from"./runtime-dom.esm-bundler.Cq4qZDBJ.js";import{m as S}from"./db.B_H6nRtK.js";import{_ as v}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{d as D,o as i,c as d,a as e,w as n,b as F,F as M,r as g,e as V,t as o,n as s,f as u,g as U,h as f}from"./runtime-core.esm-bundler.Ct5YNErD.js";const N=D({__name:"FormSupport",setup(y,{expose:t}){t();const m=U({title:"",desc:"",year:1,materia:"",docente:"",url:"",parcial:1,type:""}),r=f(()=>S.filter(l=>l.year==m.year)),b=f(()=>{const l=S.find(k=>`${k.name}`===m.materia);return l?l.docentes:[]}),c={theSupportMaterial:m,materiasFiltradasByYear:r,docentesFiltrados:b,reWrite:{1:"Primer",2:"Segundo",3:"Tercer",4:"Cuarto",5:"Quinto"},createSupportMaterial:async l=>{if(!l.title)return alert("Título es obligatorio");if(!l.desc)return alert("Descripción es obligatoria");if(!l.materia)return alert("Materia es obligatoria");if(!l.docente)return alert("Docente es obligatorio");if(!l.url)return alert("Url es obligatorio");if(!(await fetch("/api/supportMaterial/create",{method:"POST",body:JSON.stringify(l)})).ok)return alert("Error al crear el material de apoyo");alert("Material de apoyo creado con exito"),window.location.reload()}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),T={class:"grid grid-cols-1 lg:grid-cols-2 lg:gap-8 place-items-start"},P={class:"block"},B={class:"block"},E={class:"block"},A={class:"block"},C={class:"block"},O={class:"block"},W=["value"],q={key:0,class:"block"},Y=["value"],j={class:"block"},z={class:"space-y-2 pt-4 w-full"},J={class:"py-6 px-8 bg-white dark:bg-neutral-800 shadow-md rounded-md"},L={class:"text-xl font-bold uppercase text-neutral-700 dark:text-neutral-50 border-b pb-4"},Q={class:"py-2 font-medium text-neutral-600 dark:text-neutral-300"},G=["href"],H={class:"block w-full bg-white shadow-md dark:border-neutral-800 rounded-md py-4 px-8 dark:bg-neutral-800"};function I(y,t,m,r,b,w){return i(),d("section",T,[e("form",{onSubmit:t[8]||(t[8]=h(a=>r.createSupportMaterial(r.theSupportMaterial),["prevent"])),class:"w-full"},[e("label",P,[t[9]||(t[9]=e("span",{class:"block text-neutral-700 dark:text-neutral-50"},"Título",-1)),n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>r.theSupportMaterial.title=a),type:"text",name:"title",class:"w-full border outline-none bg-white dark:bg-neutral-800 dark:text-white rounded-md p-2",required:""},null,512),[[x,r.theSupportMaterial.title]])]),e("label",B,[t[10]||(t[10]=e("span",{class:"block text-neutral-700 dark:text-neutral-50"},"Descripción",-1)),n(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.theSupportMaterial.desc=a),name:"desc",class:"w-full border min-h-20 outline-none bg-white dark:bg-neutral-800 dark:text-white rounded-md p-2",required:""},null,512),[[x,r.theSupportMaterial.desc]])]),e("label",E,[t[12]||(t[12]=e("span",{class:"block text-neutral-700 dark:text-neutral-50"},"Tipo de material de apoyo",-1)),n(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>r.theSupportMaterial.type=a),class:"w-full border outline-none bg-white dark:bg-neutral-800 dark:text-white rounded-md p-2",name:"type"},t[11]||(t[11]=[e("option",{value:""},"Seleccione un tipo",-1),e("option",{value:"otro"},"Otro",-1),e("option",{value:"Banco De Pregunta"},"Banco De Pregunta",-1)]),512),[[p,r.theSupportMaterial.type]])]),e("label",A,[t[13]||(t[13]=e("span",{class:"block text-neutral-700 dark:text-neutral-50"},"Url",-1)),n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>r.theSupportMaterial.url=a),type:"url",name:"url",class:"w-full border outline-none bg-white dark:bg-neutral-800 dark:text-white rounded-md p-2",required:""},null,512),[[x,r.theSupportMaterial.url]])]),e("label",C,[t[15]||(t[15]=e("span",{class:"block text-neutral-700 dark:text-neutral-50"},"Año",-1)),n(e("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>r.theSupportMaterial.year=a),class:"w-full border outline-none bg-white dark:bg-neutral-800 dark:text-white rounded-md p-2",name:"year"},t[14]||(t[14]=[F('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option>',5)]),512),[[p,r.theSupportMaterial.year]])]),e("label",O,[t[17]||(t[17]=e("span",{class:"block text-neutral-700 dark:text-neutral-50"},"Materia",-1)),n(e("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>r.theSupportMaterial.materia=a),class:"w-full border outline-none bg-white dark:bg-neutral-800 dark:text-white rounded-md p-2",name:"materia"},[t[16]||(t[16]=e("option",{value:""},"Seleccione una materia",-1)),(i(!0),d(M,null,g(r.materiasFiltradasByYear,a=>(i(),d("option",{key:a.id,value:`${a.name}`},o(a.sigla)+" - "+o(a.name),9,W))),128))],512),[[p,r.theSupportMaterial.materia]])]),r.theSupportMaterial.materia!==""&&r.theSupportMaterial.year?(i(),d("label",q,[t[19]||(t[19]=e("span",{class:"block text-neutral-700 dark:text-neutral-50"},"Docente",-1)),n(e("select",{"onUpdate:modelValue":t[6]||(t[6]=a=>r.theSupportMaterial.docente=a),class:"w-full border outline-none bg-white dark:bg-neutral-800 dark:text-white rounded-md p-2",name:"docente"},[t[18]||(t[18]=e("option",{value:""},"Seleccione un docente",-1)),(i(!0),d(M,null,g(r.docentesFiltrados,a=>(i(),d("option",{key:a.id,value:a.name},o(a.name),9,Y))),128))],512),[[p,r.theSupportMaterial.docente]])])):V("",!0),e("label",j,[t[21]||(t[21]=e("span",{class:"block text-neutral-700 dark:text-neutral-50"},"Parcial",-1)),n(e("select",{"onUpdate:modelValue":t[7]||(t[7]=a=>r.theSupportMaterial.parcial=a),class:"w-full border outline-none bg-white dark:bg-neutral-800 dark:text-white rounded-md p-2",name:"parcial"},t[20]||(t[20]=[e("option",{value:"1"},"1",-1),e("option",{value:"2"},"2",-1),e("option",{value:"3"},"3",-1)]),512),[[p,r.theSupportMaterial.parcial]])]),t[22]||(t[22]=e("button",{type:"submit",class:"mt-4 bg-blue-500 text-white rounded-md p-2"}," Enviar ",-1))],32),e("ul",z,[e("li",J,[e("h3",L,o(r.theSupportMaterial.title===""?"Título":r.theSupportMaterial.title),1),e("p",Q,o(r.theSupportMaterial.desc===""?"Descripción":r.theSupportMaterial.desc),1),e("a",{class:"text-primary underline",target:"_blank",href:r.theSupportMaterial.url==""?"no-url":r.theSupportMaterial.url},"Ver",8,G)]),e("li",H,[t[29]||(t[29]=e("h5",{class:"text-lg font-semibold text-neutral-800 dark:text-neutral-200 pb-1 border-b"},"Meta Datos",-1)),e("p",{class:s(r.theSupportMaterial.url===""?"text-red-500":"text-green-500")},[t[23]||(t[23]=e("span",{class:"font-medium text-neutral-800 dark:text-neutral-200"},"Url: ",-1)),u(" "+o(r.theSupportMaterial.url===""?"No seleccionado":r.theSupportMaterial.url),1)],2),e("p",{class:s(r.theSupportMaterial.year===0?"text-red-500":"text-green-500")},[t[24]||(t[24]=e("span",{class:"font-medium text-neutral-800 dark:text-neutral-200"},"Año: ",-1)),u(" "+o(r.theSupportMaterial.year===0?"Año":r.reWrite[r.theSupportMaterial.year])+" Año ",1)],2),e("p",{class:s(r.theSupportMaterial.materia===""?"text-red-500":"text-green-500")},[t[25]||(t[25]=e("span",{class:"font-medium text-neutral-800 dark:text-neutral-200"},"Materia: ",-1)),u(" "+o(r.theSupportMaterial.materia===""?"No seleccionado":r.theSupportMaterial.materia),1)],2),e("p",{class:s(r.theSupportMaterial.docente===""?"text-red-500":"text-green-500")},[t[26]||(t[26]=e("span",{class:"font-medium text-neutral-800 dark:text-neutral-200"},"Docente: ",-1)),u(" "+o(r.theSupportMaterial.docente===""?"No seleccionado":r.theSupportMaterial.docente),1)],2),e("p",{class:s(r.theSupportMaterial.parcial===0?"text-red-500":"text-green-500")},[t[27]||(t[27]=e("span",{class:"font-medium text-neutral-800 dark:text-neutral-200"},"Parcial: ",-1)),u(" "+o(r.theSupportMaterial.parcial===0?"No seleccionado":r.reWrite[r.theSupportMaterial.parcial])+" Parcial ",1)],2),e("p",{class:s(r.theSupportMaterial.type===""?"text-red-500":"text-green-500")},[t[28]||(t[28]=e("span",{class:"font-medium text-neutral-800 dark:text-neutral-200"},"Tipo: ",-1)),u(" "+o(r.theSupportMaterial.type===""?"No seleccionado":r.theSupportMaterial.type),1)],2)])])])}const _=v(N,[["render",I]]);export{_ as default};
